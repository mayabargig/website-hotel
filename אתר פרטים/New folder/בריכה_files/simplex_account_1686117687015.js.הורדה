!function(){"use strict";var e=UserWayWidgetApp.getLib("remediation_util"),t=function(){var t=null,n=null,o=null,r=null;return{trapFocusBetweenElements:function(i,u,l){void 0===l&&(l=null),o=i,r=u;var a=!1;window.addEventListener("keydown",function(t){e.keys.isLeftShift(t)&&(a=!0)}),window.addEventListener("keyup",function(t){e.keys.isLeftShift(t)&&(a=!1)}),i.setAttribute("tabindex","0"),document.activeElement&&l.contains(document.activeElement)||i.focus(),t=function(t){e.keys.isTab(t)&&a&&(t.preventDefault(),u.focus())},i.addEventListener("keydown",t),u.setAttribute("tabindex","0"),n=function(t){!e.keys.isTab(t)||a||(t.preventDefault(),i.focus())},u.addEventListener("keydown",n)},resetTrapFocus:function(){o.removeEventListener("keydown",t),r.removeEventListener("keydown",n),o=null,r=null,t=null,n=null}}}(),n=t.trapFocusBetweenElements,o=t.resetTrapFocus,r=function(t,n){t&&(t.setAttribute("role","button"),t.setAttribute("tabindex",0),t.setAttribute("aria-haspopup",!0),n&&t.setAttribute("aria-label",n),t.addEventListener("keydown",function(n){(e.keys.isSpace(n)||e.keys.isEnter(n))&&(n.preventDefault(),t.click())}),t.addEventListener("focusin",function(e){return e.stopPropagation()}))};e.waitUntil(function(){return document.querySelector(".engine-holder .dates-holder")},function(t){e.injectStylesheet("\n          .dates-holder .dates-dispaly:focus-visible {\n            outline: rgb(0,24,255) solid 2px;\n            outline-offset: 0;\n          }\n        ");var n="iw"===document.documentElement.getAttribute("lang"),t=null===t||void 0===t?void 0:t.querySelector(".dates-dispaly"),n=n?"תבחר תאריך הזמנה":"Select booking date";r(t,n)}),function(){e.waitUntil(function(){return document.querySelector(".engine-holder .rooms-paxs-summery-holder")},function(t){e.injectStylesheet('\n          .rooms-paxs-summery-holder .rooms-paxs-summery:focus-visible {\n            outline: rgb(0,24,255) solid 2px;\n            outline-offset: 0;\n          }\n\n          .daterangepicker.show-calendar:focus-visible {\n            outline: rgb(0,24,255) solid 2px;\n            outline-offset: 0;\n          }\n\n          body .daterangepicker .calendars-holder .side-content .room-paxs-holder .room-paxs-content .popup-room-pax-container button.action-button:not(.disable):focus-visible {\n            outline: rgb(0,24,255) solid 2px !important;\n          }\n\n          body .daterangepicker .calendars-holder .submit-area .done-edit-button:focus-visible {\n            outline: rgb(0,24,255) solid 2px !important;\n          }\n\n          body .daterangepicker .calendars-holder .side-content .room-paxs-holder .room-paxs-content .popup-room-pax-container *[role="button"]:focus-visible {\n            outline: rgb(0,24,255) solid 2px !important;\n          }\n        ');var i="iw"===document.documentElement.getAttribute("lang"),u=null===t||void 0===t?void 0:t.querySelector(".rooms-paxs-summery"),l=i?"תבחר מספר אורחים":"Select number of guests",a=function(t){var o=Array.from(t.querySelectorAll(e.focusableElementsSelector));n(o[1],t.querySelector(".done-edit-button"),t)};e.waitUntil(function(){return document.querySelector(".daterangepicker.show-calendar")},function(t){null===u||void 0===u||u.addEventListener("click",function(){setTimeout(function(){return t.focus()},0),a(t.querySelector(".container .calendars-holder .side-content"))});var n=function(){var e;null===(e=t.querySelectorAll(".action-button"))||void 0===e||e.forEach(function(e){e.classList.contains("disable")?e.setAttribute("tabindex",-1):e.setAttribute("tabindex",0);var t=e.closest(".popup-room-pax-row").querySelector(".room-pax-header").textContent,n=e.closest(".popup-room-pax-holder").getAttribute("id").slice(-1);e.classList.contains("minus")?e.setAttribute("aria-label","decrease ".concat(t," in room number ").concat(n," by one")):e.setAttribute("aria-label","increase ".concat(t," in room number ").concat(n," by one"))})},i=(n(),t.addEventListener("click",function(r){var i,u,l,s,c,d,b,m,p,v,f,y;r.target&&r.target.classList.contains("action-button")&&(n(),v=null===(l=null===(u=null===(i=r.target)||void 0===i?void 0:i.closest(".room-pax-action"))||void 0===u?void 0:u.querySelector(".count"))||void 0===l?void 0:l.textContent,f=null===(d=null===(c=null===(s=r.target)||void 0===s?void 0:s.closest(".popup-room-pax-row"))||void 0===c?void 0:c.querySelector(".room-pax-header"))||void 0===d?void 0:d.textContent,y=null===(p=null===(m=null===(b=r.target)||void 0===b?void 0:b.closest(".popup-room-pax-holder"))||void 0===m?void 0:m.getAttribute("id"))||void 0===p?void 0:p.slice(-1),0<=Number(v)&&f&&0<=Number(y)&&e.announce(v+" ".concat(f," in room number ")+y)),r.target&&r.target.classList.contains("remove-room-panel")&&(o(),a(t))}),t.querySelector(".add-room")),s=(i&&(i.setAttribute("tabindex",0),i.setAttribute("role","button"),i.addEventListener("keydown",function(t){(e.keys.isSpace(t)||e.keys.isEnter(t))&&(t.preventDefault(),i.click())}),i.addEventListener("click",function(){o(),a(t);var r=t.querySelectorAll(".remove-room-panel");null===r||void 0===r||r.forEach(function(t){t.getAttribute("aria-label")||(t.setAttribute("aria-label","remove room "+t.getAttribute("data-room")),t.setAttribute("tabindex",0),t.setAttribute("role","button"),t.addEventListener("keydown",function(n){(e.keys.isSpace(n)||e.keys.isEnter(n))&&(n.preventDefault(),t.click())}))}),n()})),t.querySelector(".done-edit-button"));null===s||void 0===s||s.addEventListener("click",function(){null===u||void 0===u||u.focus()}),r(u,l)})}),e.waitUntil(function(){return document.querySelector(".daterangepicker.show-calendar")},function(t){t.setAttribute("tabindex","0"),t.setAttribute("data-uw-rm-ignore",""),t.addEventListener("keydown",function(n){if(e.keys.isEsc(n)){var o=t.querySelector(".done-edit-button"),r=(null===o||void 0===o||o.click(),document.querySelector(".engine-holder .rooms-paxs-summery-holder .rooms-paxs-summery"));null===r||void 0===r||r.focus()}})})}()}();